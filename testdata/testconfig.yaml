#####################################
#    Basic Configuration
#####################################
debug: true

authentication: true

#####################################
#    CA Certificate and Key Section
#####################################
ca:

  certFile: ec.pem
  keyFile: ec-key.pem

#####################################
#    User Registry Section
#####################################
userRegistry:

  maxEnrollments: 1

####################################
#    Database section
#####################################
database:

  type: sqlite3
  datasource: fabric-ca.db

  tls:
      enabled: false
      caFiles:
        - root.pem
      certFile: tls-cert.pem
      keyFile: tls-key.pem

#####################################
#    TLS section
#####################################
tls:

  enabled: true
  caFile: root.pem
  certFile: tls_server-cert.pem
  keyFile: tls_server-key.pem

#####################################
#    Users section
#####################################
users:

  admin:
    pass: adminpw
    type: client
    affiliation: bank_a
    attrs:
      - name: "hf.Registrar.Roles"
        value: "client,user,peer,validator,auditor"
      - name: "hf.Registrar.DelegateRoles"
        value: "client,user,validator,auditor"
      - name: "hf.Revoker"
        value: true

  admin2:
    pass: adminpw2
    type: client
    affiliation: bank_a
    attrs:
      - name: "hf.Registrar.Roles"
        value: "client,user,peer,validator,auditor"
      - name: "hf.Registrar.DelegateRoles"
        value: "client,user,validator,auditor"
      - name: "hf.Revoker"
        value: true

  revoker:
    pass: revokerpw
    type: client
    affiliation: bank_a
    attrs:
     - name: "hf.Revoker"
       value: true

  revoker2:
    pass: revokerpw2
    type: client
    affiliation: bank_a
    attrs:
      - name: "hf.Revoker"
        value: true

  nonrevoker:
    pass: nonrevokerpw
    type: client
    affiliation: bank_a

  nonrevoker2:
    pass: nonrevokerpw2
    type: client
    affiliation: bank_a

  notadmin:
    pass: pass
    type: client
    affiliation: bank_a
    attrs:
      - name: "hf.Registrar.Roles"
        value: "client,peer,validator,auditor"
      - name: "hf.Registrar.DelegateRoles"
        value: client

  expiryUser:
    pass: expirypw
    type: client
    affiliation: bank_a

  testUser:
    pass: user1
    type: client
    affiliation: bank_b
    attrs:

  testUser2:
    pass: user2
    type: client
    affiliation: bank_c
    attrs:

  testUser3:
    pass: user3
    type: client
    affiliation: bank_a
    attrs:


#####################################
#    Affiliation section
#####################################
affiliations:

   banks_and_institutions:
      banks:
          - bank_a
          - bank_b
          - bank_c
      institutions:
          - institution_a

#####################################
#    Signing section
#####################################
signing:

    profiles:
      expiry:
         usage:
           - cert sign
         expiry: 1s

    default:
      usage:
        - cert sign
      expiry: 8000h

# #####################################
# #    Crypto section
# #    Specifies crypto primitives used for:
# #    1) Authorization header verification
# #    2) TCert generation (key derivation)
# #    3) Others are TBD
# #####################################
# crypto:
#     software:
#           hash_family: SHA2
#           security_level: 256
#           ephemeral: false
#           key_store_dir: keys
